{% extends "base.html" %}

{% block content %}
<div class="form-container">
    <div class="form-header">
        <h2><i class="fas fa-edit"></i> Edit Student</h2>
        <p>Update the details for {{ student.name }} (ID: {{ student.id }})</p>
    </div>
    
    <form method="POST" action="{{ url_for('edit_student', student_id=student.id) }}" class="student-form">
        <!-- Personal Information -->
        <fieldset>
            <legend><i class="fas fa-id-card"></i> Personal Information</legend>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="roll_no">Roll Number *</label>
                    <input type="text" id="roll_no" name="roll_no" required 
                           value="{{ student.roll_no }}">
                </div>
                
                <div class="form-group">
                    <label for="name">Full Name *</label>
                    <input type="text" id="name" name="name" required 
                           value="{{ student.name }}">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="email">Email Address *</label>
                    <input type="email" id="email" name="email" required 
                           value="{{ student.email }}">
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required 
                           value="{{ student.phone }}" pattern="[0-9]{10}">
                </div>
            </div>
            
            <div class="form-group">
                <label for="address">Address</label>
                <textarea id="address" name="address" rows="2">{{ student.address }}</textarea>
            </div>
        </fieldset>
        
        <!-- Academic Information -->
        <fieldset>
            <legend><i class="fas fa-graduation-cap"></i> Academic Information</legend>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="course">Course *</label>
                    <select id="course" name="course" required>
                        <option value="">Select Course</option>
                        <option value="Computer Science" {% if student.course == 'Computer Science' %}selected{% endif %}>Computer Science</option>
                        <option value="Information Technology" {% if student.course == 'Information Technology' %}selected{% endif %}>Information Technology</option>
                        <option value="Electronics" {% if student.course == 'Electronics' %}selected{% endif %}>Electronics</option>
                        <option value="Mechanical" {% if student.course == 'Mechanical' %}selected{% endif %}>Mechanical</option>
                        <option value="Civil" {% if student.course == 'Civil' %}selected{% endif %}>Civil</option>
                        <option value="MBA" {% if student.course == 'MBA' %}selected{% endif %}>MBA</option>
                        <option value="BBA" {% if student.course == 'BBA' %}selected{% endif %}>BBA</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="year">Year *</label>
                    <select id="year" name="year" required>
                        <option value="">Select Year</option>
                        <option value="1st Year" {% if student.year == '1st Year' %}selected{% endif %}>1st Year</option>
                        <option value="2nd Year" {% if student.year == '2nd Year' %}selected{% endif %}>2nd Year</option>
                        <option value="3rd Year" {% if student.year == '3rd Year' %}selected{% endif %}>3rd Year</option>
                        <option value="4th Year" {% if student.year == '4th Year' %}selected{% endif %}>4th Year</option>
                        <option value="Final Year" {% if student.year == 'Final Year' %}selected{% endif %}>Final Year</option>
                    </select>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="grade">Grade *</label>
                    <select id="grade" name="grade" required>
                        <option value="">Select Grade</option>
                        <option value="A+" {% if student.grade == 'A+' %}selected{% endif %}>A+ (90-100%)</option>
                        <option value="A" {% if student.grade == 'A' %}selected{% endif %}>A (80-89%)</option>
                        <option value="B+" {% if student.grade == 'B+' %}selected{% endif %}>B+ (70-79%)</option>
                        <option value="B" {% if student.grade == 'B' %}selected{% endif %}>B (60-69%)</option>
                        <option value="C" {% if student.grade == 'C' %}selected{% endif %}>C (50-59%)</option>
                        <option value="D" {% if student.grade == 'D' %}selected{% endif %}>D (40-49%)</option>
                        <option value="F" {% if student.grade == 'F' %}selected{% endif %}>F (Below 40%)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="attendance">Attendance (%) *</label>
                    <input type="number" id="attendance" name="attendance" 
                           min="0" max="100" value="{{ student.attendance }}" required>
                    <small>Enter percentage (0-100)</small>
                </div>
            </div>
        </fieldset>
        
        <!-- Fees Information -->
        <fieldset>
            <legend><i class="fas fa-money-bill"></i> Fees Information</legend>
            
            <div class="form-group checkbox-group">
                <input type="checkbox" id="fees_paid" name="fees_paid" value="true"
                       {% if student.fees_paid %}checked{% endif %}>
                <label for="fees_paid">
                    <span class="checkbox-custom"></span>
                    Fees Paid
                </label>
            </div>
        </fieldset>
        
        <!-- Form Actions -->
        <div class="form-actions">
            <button type="submit" class="btn-submit">
                <i class="fas fa-save"></i> Update Student
            </button>
            <a href="{{ url_for('view_student', student_id=student.id) }}" class="btn-view">
                <i class="fas fa-eye"></i> View Details
            </a>
            <a href="{{ url_for('view_students') }}" class="btn-cancel">
                <i class="fas fa-times"></i> Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}